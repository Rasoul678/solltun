import { ScrollView, VerticalBox, Button } from "std-widgets.slint";
import { AppConfig } from "./global.slint";
export component NavView inherits Rectangle {
    in-out property <bool> open_curtain;
    in-out property <string> db_name;
    in-out property <[string]> tables: [];

    callback on-landing;

    height: 100%;
    background: #000000;
    width: open_curtain ? 15% : 0%;
    opacity: open_curtain ? 1 : 0;

    animate opacity {
        duration: 500ms;
        easing: ease-out;
    }

    animate width {
        duration: 500ms;
        easing: ease-in-out-back;
    }

    ScrollView {
        property <length> height_offset: 2px;
        property <length> width_offset:  4px;
        padding: 3px;
        height: parent.height;
        width: parent.width;
        viewport-height: (AppConfig.tables.length * 72px) + 2px;
        viewport-width: parent.width;

        VerticalBox {
            alignment: start;
            spacing: 10px;

            Image {
                source: @image-url("icons/rocket.svg");
                width: 100px;
                height: 100px;

                touch := TouchArea {
                    mouse-cursor: pointer;
                    clicked => {
                        root.on-landing();
                    }
                }
            }

            Text {
                text <=> root.db_name;
                color: greenyellow;
                font-size: 1.3rem;
                letter-spacing: 3px;
            }

            for t[i] in root.tables: Text {
                text: t;
                color: teal;
                font-weight: 700;
                font-size: 1.1rem;
                letter-spacing: 1px;
            }
        }
    }
}
